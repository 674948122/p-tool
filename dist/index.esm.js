function n(n){for(var t=[],r=0,e=0;e<2*n.length;e+=2)t[e>>>3]|=parseInt(n[r],10)<<24-e%8*4,r++;for(var o=[],a=0;a<n.length;a++){var i=t[a>>>2]>>>24-a%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("").toUpperCase()}function t(n){return n.replace(/[\x00-\x1F\x7F]/g,"")}function r(n){for(var r=[],e=0,o=0;o<2*n.length;o+=2)r[o>>>3]|=parseInt(n[e],10)<<24-o%8*4,e++;try{for(var a=[],i=0;i<n.length;i++){var s=r[i>>>2]>>>24-i%4*8&255;a.push(String.fromCharCode(s))}return t(decodeURIComponent(escape(a.join(""))))}catch(n){throw new Error("Malformed UTF-8 data")}}function e(n){var t=[],r=n.length;r%2!=0&&(n=p(n,r+1)),r=n.length;for(var e=0;e<r;e+=2)t.push(parseInt(n.substr(e,2),16));return t}function o(n,t){return n.length>=t?n:new Array(t-n.length+1).join("0")+n}function a(n){return Array.prototype.map.call(new Uint8Array(n),(function(n){return("00"+n.toString(16)).slice(-2)})).join("").toUpperCase()}function i(n){const t=n.toLowerCase(),r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const e=parseInt(t.substr(n,2),16);r[n/2]=e}return r.buffer}function s(n){for(var t=(n=unescape(encodeURIComponent(n))).length,r=[],e=0;e<t;e++)r[e>>>2]|=(255&n.charCodeAt(e))<<24-e%4*8;for(var o=[],a=0;a<t;a++){var i=r[a>>>2]>>>24-a%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("").toUpperCase()}function u(n){return parseInt(n,16)}function h(n,t=4){return o(parseInt(n,10).toString(16),t)}function f(n){return n.length/2}function g(n){if(!n||n.length%2!=0)return n;const t=n.match(/.{2}/g);return t.reverse(),t.join("")}function l(n,t){if("number"==typeof n&&(n=new Array(n)),!n.length)return;let r=0;!function e(){r!==n.length&&requestIdleCallback((o=>{for(;o.timeRemaining()>0&&r<n.length;){const e=n[r];t&&t(e,r),r++}e()}))}()}function c(n,t=2){return new Promise((r=>{if(0===n.length)return void r();let e=0,o=0;function a(){const t=n[e];e++,t().then((()=>{o++,e<n.length?a():o===n.length&&r()}))}for(let r=0;r<t&&r<n.length;r++)a()}))}class v{constructor(n=2){this.paralleCount=n,this.tasks=[],this.runingCount=0}add(n){return new Promise(((t,r)=>{this.tasks.push({task:n,resolve:t,reject:r}),this._run()}))}_run(){for(;this.runingCount<this.paralleCount&&this.tasks.length>0;){const{task:n,resolve:t,reject:r}=this.tasks.shift();this.runingCount++,n().then(t,r).finally((()=>{this.runingCount--,this._run()}))}}reset(){this.tasks=[],this.runingCount=0}}function m(...n){let t=!1;const r=[];let e=0;return{start:()=>new Promise((async(o,a)=>{if(!t){for(t=!0;e<n.length;)if(r.push(await n[e]()),e++,!t)return;t=!1,o(r)}})),pause(){t=!1}}}function d(){const n=navigator.userAgent,t=navigator.userAgent,r=t.indexOf("Opera")>-1;return r?{name:"Opera",version:t.match(/Opera\/([\d.]+)/)[1]}:n.indexOf("Firefox")>-1?{name:"Firefox",version:t.match(/Firefox\/([\d.]+)/)[1]}:n.indexOf("Chrome")>-1?{name:"Chrome",version:n.match(/Chrome\/([\d.]+)/)[1]}:n.indexOf("Safari")>-1?{name:"Safari",version:t.match(/Safari\/([\d.]+)/)[1]}:n.indexOf("compatible")>-1&&n.indexOf("MSIE")>-1&&!r?{name:"IE",version:t.match(/MSIE ([\d.]+)/)[1]}:{name:"Other",version:""}}function C(n,t){n=n.split("."),t=t.split(".");const r=Math.max(n.length,t.length);for(;n.length<r;)n.push("0");for(;t.length<r;)t.push("0");for(let e=0;e<r;e++){const r=parseInt(n[e]),o=parseInt(t[e]);if(r>o)return!0;if(r<o)return!1}return!0}const w=()=>{var n="";n+=navigator.userAgent||"",n+=navigator.language||"",n+=window.screen.width+"x"+window.screen.height,n+=(new Date).getTimezoneOffset();var t="";if(navigator.plugins&&navigator.plugins.length>0)for(var r=0;r<navigator.plugins.length;r++)t+=navigator.plugins[r].name+";";n+=t;var e="";if(document.fonts&&document.fonts.length>0)for(var o=0;o<document.fonts.length;o++)e+=document.fonts[o].family+";";var a=0;if(0===(n+=e).length)return a;for(var i=0;i<n.length;i++){a=(a<<5)-a+n.charCodeAt(i),a|=0}return a=Math.abs(a)};export{v as SuperTask,n as arrayToHex,r as arrayToUtf8,C as compareVersion,h as decimalToHex,t as filterInvisibleCharsRegex,d as getBrowserVersion,f as getHexLength,e as hexToArray,u as hexToDecimal,o as leftPad,c as paralleTasks,a as parseArrayBufferToHex,i as parseHexToArrayBuffer,s as parseUtf8StringToHex,l as performChunk,m as processTasks,g as reverseHex,w as useGenerateBrowserFingerprint};
